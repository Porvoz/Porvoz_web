{% extends "porvoz/base.html" %}
{% load static %}

{% block body %}
<div class="app-shell">
    <div class="app-container">
        <!-- Sidebar para paciente -->
        <aside class="sidebar">
            <div>
                <div class="sidebar-header">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div class="sidebar-logo">
                            <img src="{% static 'LogoPorvoz.jpeg' %}" alt="Logo Porvoz">
                        </div>
                        <div>
                            <div class="sidebar-title">Porvoz</div>
                            <div class="sidebar-subtitle">Panel del paciente</div>
                        </div>
                    </div>
                    <button type="button" class="sidebar-toggle" data-sidebar-toggle title="Plegar barra lateral">
                        ‚ò∞
                    </button>
                </div>

                <div class="sidebar-nav">
                    <div class="nav-section-label">General</div>
                    <a class="nav-item active" href="{% url 'patient_dashboard' %}">
                        <span class="icon">üè†</span>
                        <span>Inicio</span>
                    </a>
                    <a class="nav-item" href="#">
                        <span class="icon">üìû</span>
                        <span>Llamadas recibidas</span>
                    </a>

                    <div class="nav-section-label" style="margin-top:10px;">Cuenta</div>
                    <a class="nav-item" href="#">
                        <span class="icon">‚öôÔ∏è</span>
                        <span>Editar perfil</span>
                    </a>
                </div>
            </div>

            <div class="sidebar-footer">
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="logout-btn">
                        <span style="font-size:14px;">‚èª</span>
                        <span>Cerrar sesi√≥n</span>
                    </button>
                </form>
            </div>
        </aside>

        <!-- Contenido principal del paciente -->
        <main class="main">
            <header class="top-bar">
                <div>
                    <div class="top-bar-title">Hola, {{ user_name }}</div>
                    <div class="top-bar-subtitle">
                        Aqu√≠ ver√°s tus pr√≥ximas llamadas y medicamentos de forma clara y sencilla.
                    </div>
                </div>
            </header>

            <section class="main-content">
                <!-- Fila de m√©tricas r√°pidas para el paciente -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Resumen de hoy</div>
                            <div class="card-subtitle">
                                Una vista r√°pida de tus recordatorios y llamadas relacionadas.
                            </div>
                        </div>
                    </div>

                    <div class="grid">
                        <div class="stat-card">
                            <div class="stat-label">Pr√≥xima llamada</div>
                            <div class="stat-value">08:30 p.m.</div>
                            <div class="stat-pill">Ejemplo para este MVP</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Llamadas de hoy</div>
                            <div class="stat-value">3</div>
                            <div class="stat-pill">Recordatorios amables</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Adherencia estimada</div>
                            <div class="stat-value">78%</div>
                            <div class="stat-pill">Basado en llamadas atendidas</div>
                        </div>
                    </div>
                </div>

                <!-- Llamadas y medicamentos pr√≥ximos -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Tus pr√≥ximas llamadas y medicamentos</div>
                            <div class="card-subtitle">
                                Esta secci√≥n est√° lista para mostrar tu agenda real de recordatorios.
                            </div>
                        </div>
                    </div>
                    <p style="font-size:13px; color:#6b7280; margin-bottom:12px;">
                        Por ahora ver√°s un ejemplo de c√≥mo se organizar√° la informaci√≥n. M√°s adelante se conectar√° con tu
                        historial real de llamadas y un indicador de si atendiste o no cada recordatorio.
                    </p>

                    <div style="display:grid; grid-template-columns:minmax(0,1.4fr) minmax(0,1.2fr); gap:14px;">
                        <div style="border-radius:14px; border:1px solid rgba(229,231,235,0.9); padding:10px 12px; font-size:13px;">
                            <div style="font-weight:600; margin-bottom:6px;">Agenda de ejemplo</div>
                            <ul style="list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px;">
                                <li>
                                    <strong>08:30 a.m.</strong> ‚Äî Llamada para recordar <span style="color:#4f46e5;">Losart√°n 50mg</span>.
                                </li>
                                <li>
                                    <strong>02:00 p.m.</strong> ‚Äî Llamada para recordar <span style="color:#4f46e5;">Metformina 850mg</span>.
                                </li>
                                <li>
                                    <strong>08:30 p.m.</strong> ‚Äî Llamada para recordar <span style="color:#4f46e5;">Atorvastatina 20mg</span>.
                                </li>
                            </ul>
                        </div>
                        <div style="border-radius:14px; border:1px solid rgba(229,231,235,0.9); padding:10px 12px; font-size:13px;">
                            <div style="font-weight:600; margin-bottom:6px;">Llamadas recientes (ejemplo)</div>
                            <ul style="list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px;">
                                <li>
                                    <strong>Ayer ‚Ä¢ 08:30 p.m.</strong> ‚Äî Llamada atendida ‚úÖ
                                </li>
                                <li>
                                    <strong>Ayer ‚Ä¢ 02:00 p.m.</strong> ‚Äî No contest√≥ ‚ùå
                                </li>
                                <li>
                                    <strong>Hace 2 d√≠as ‚Ä¢ 08:30 a.m.</strong> ‚Äî Llamada atendida ‚úÖ
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</div>
{% endblock %}


