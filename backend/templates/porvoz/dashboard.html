{% extends "porvoz/base.html" %}
{% load static %}

{% block body %}
<div class="app-shell">
    <div class="app-container">
        <!-- Sidebar cuidador -->
        <aside class="sidebar">
            <div>
                <div class="sidebar-header">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div class="sidebar-logo">
                            <img src="{% static 'LogoPorvoz.jpeg' %}" alt="Logo Porvoz">
                        </div>
                        <div>
                            <div class="sidebar-title">Porvoz</div>
                            <div class="sidebar-subtitle">Panel del cuidador</div>
                        </div>
                    </div>
                    <button type="button" class="sidebar-toggle" data-sidebar-toggle title="Plegar barra lateral">
                        ‚ò∞
                    </button>
                </div>

                <div class="sidebar-nav">
                    <div class="nav-section-label">General</div>
                    <a class="nav-item active" href="{% url 'dashboard' %}">
                        <span class="icon">üè†</span>
                        <span>Inicio</span>
                    </a>
                    <a class="nav-item" href="#">
                        <span class="icon">üë•</span>
                        <span>Pacientes</span>
                    </a>

                    <div class="nav-section-label" style="margin-top:10px;">Cuenta</div>
                    <a class="nav-item" href="#">
                        <span class="icon">‚öôÔ∏è</span>
                        <span>Editar perfil</span>
                    </a>
                </div>
            </div>

            <div class="sidebar-footer">
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="logout-btn">
                        <span style="font-size:14px;">‚èª</span>
                        <span>Cerrar sesi√≥n</span>
                    </button>
                </form>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main">
            <header class="top-bar">
                <div>
                    <div class="top-bar-title">Hola, {{ user_name }}</div>
                    <div class="top-bar-subtitle">
                        Controla pacientes, medicamentos y recordatorios desde este panel principal.
                    </div>
                </div>
                <div class="user-chip">
                    <div class="user-avatar">
                        {{ user_name|first|upper }}
                    </div>
                    <div>
                        <div style="font-size:13px; font-weight:500;">{{ user_name }}</div>
                        <div style="font-size:11px; color:#9ca3af;">Cuidador</div>
                    </div>
                </div>
            </header>

            <section class="main-content">
                <!-- Hero superior tipo banner -->
                <div class="card" style="background:linear-gradient(135deg,#4f46e5,#6366f1);color:#eef2ff;">
                    <div class="card-header">
                        <div>
                            <div class="card-title" style="font-size:18px;">Dashboard de recordatorios</div>
                            <div class="card-subtitle" style="color:#e0e7ff;">
                                Vista general de tus pacientes, medicamentos y llamadas simuladas de Porvoz.
                            </div>
                        </div>
                        <span class="badge-pill" style="background:rgba(15,23,42,0.15);color:#e5e7eb;">
                            Vista de cuidador
                        </span>
                    </div>
                </div>

                <!-- Fila de m√©tricas principales -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Resumen r√°pido</div>
                            <div class="card-subtitle">
                                Indicadores clave del estado de tus pacientes hoy.
                            </div>
                        </div>
                    </div>

                    <div class="grid">
                        <div class="stat-card">
                            <div class="stat-label">Pacientes activos</div>
                            <div class="stat-value">{{ active_patients }}</div>
                            <div class="stat-pill">Bajo tu cuidado</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Medicamentos configurados</div>
                            <div class="stat-value">{{ active_medications }}</div>
                            <div class="stat-pill">Listos para recordatorios</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Recordatorios de hoy</div>
                            <div class="stat-value">{{ today_reminders }}</div>
                            <div class="stat-pill">Simulados en este MVP</div>
                        </div>
                    </div>
                </div>

                <!-- Grid principal a dos columnas tipo SaaS -->
                <div class="card" style="padding:0; border:none; background:transparent;">
                    <div style="display:grid; grid-template-columns:minmax(0,2fr) minmax(0,1.4fr); gap:16px;">
                        <!-- Columna izquierda: overview visual -->
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">Vista general de recordatorios</div>
                                    <div class="card-subtitle">
                                        Espacio preparado para conectar gr√°ficos de adherencia y llamadas reales.
                                    </div>
                                </div>
                            </div>
                            <div style="height:180px; border-radius:16px; background:radial-gradient(circle at top,#e0edff,#eef2ff); display:flex; align-items:center; justify-content:center; color:#6b7280; font-size:13px;">
                                Aqu√≠ ir√≠a un gr√°fico de ejemplo (adherencia vs llamadas) en la versi√≥n completa.
                            </div>
                        </div>

                        <!-- Columna derecha: pr√≥ximas acciones / lista -->
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">Pr√≥ximas acciones</div>
                                    <div class="card-subtitle">
                                        Secci√≥n lista para enlazar con pacientes, medicamentos y llamadas.
                                    </div>
                                </div>
                            </div>
                            <ul style="list-style:none; padding:0; margin:0; font-size:13px; color:#4b5563; display:flex; flex-direction:column; gap:8px;">
                                <li style="padding:8px 10px; border-radius:10px; border:1px solid rgba(229,231,235,0.9); background:#f9fafb;">
                                    Definir pacientes y sus medicamentos principales.
                                </li>
                                <li style="padding:8px 10px; border-radius:10px; border:1px solid rgba(229,231,235,0.9); background:#f9fafb;">
                                    Configurar horarios de llamadas de prueba para cada medicamento.
                                </li>
                                <li style="padding:8px 10px; border-radius:10px; border:1px solid rgba(229,231,235,0.9); background:#f9fafb;">
                                    Revisar el historial de llamadas simuladas y adherencia (pr√≥ximo m√≥dulo).
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</div>
{% endblock %}


